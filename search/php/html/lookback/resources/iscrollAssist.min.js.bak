!function(l,n){var i={newVerScrollForPull:function(n,i,o,e,s){var a;"string"==typeof n?a=l(n):"object"==typeof n&&(a=n);var t=s&&s.pulldownRefresh?s.pulldownRefresh:"下拉刷新...",r=s&&s.pullupLoadingMore?s.pullupLoadingMore:"上拉加载更多...",h=s&&s.releaseToRefresh?s.releaseToRefresh:"松手开始刷新...",d=s&&s.releaseToLoading?s.releaseToLoading:"松手开始加载...",p=s&&s.loading?s.loading:"加载中...",c=a.find("#pullDown"),f=a.find("#pullUp"),u=0,m=0;c.length>0&&(m=c.outerHeight(),c.find("#pullDownLabel").html(t)),f.length>0&&(u=f.outerHeight(),f.find("#pullUpLabel").html(r));var g={topOffset:m};l.extend(!0,g,e);var v=this.newVerScroll(a[0],g);return v.on("refresh",function(){var l=a.find("#pullDown"),n=a.find("#pullUp");l.length>0&&l.hasClass("loading")?(l.removeClass(),l.find("#pullDownLabel").html(t)):n.length>0&&(n.find("#pullUpIcon").show(),n.hasClass("loading")&&(n.find("#pullUpIcon").show(),n.removeClass(),n.find("#pullUpLabel").html(r)))}),v.on("scrollMove",function(){var l=a.find("#pullDown"),n=a.find("#pullUp");l.length>0&&this.y>5&&!l.hasClass("flip")?(l.removeClass().addClass("flip"),l.find("#pullDownLabel").html(h),this.minScrollY=0):l.length>0&&this.y<5&&l.hasClass("flip")?(l.removeClass(),l.find("#pullDownLabel").html(t),this.minScrollY=-m):n.length>0&&this.y<this.minScrollY&&this.y<this.maxScrollY-5&&!n.hasClass("flip")?(n.removeClass().addClass("flip"),n.find("#pullUpLabel").html(d),this.maxScrollY=this.maxScrollY):n.length>0&&this.y>this.maxScrollY+5&&n.hasClass("flip")&&(n.removeClass(),n.find("#pullUpLabel").html(r),this.maxScrollY=u)}),v.on("scrollEnd",function(){var l=a.find("#pullDown"),n=a.find("#pullUp");l.length>0&&l.hasClass("flip")?(l.removeClass().addClass("loading"),l.find("#pullDownLabel").html(p),"function"==typeof i&&i.call(v)):n.length>0&&n.hasClass("flip")&&(n.removeClass().addClass("loading"),n.find("#pullUpLabel").html(p),"function"==typeof o&&n.parent().length>0&&o.call(v))}),v},newVerScroll:function(n,i){var o={probeType:2,scrollbars:!0,mouseWheel:!0,fadeScrollbars:!0,bounce:!0,interactiveScrollbars:!0,shrinkScrollbars:"scale",click:!0,keyBindings:!0,momentum:!0,useTransition:!1};i&&l.extend(o,i);var e=new IScroll(n,o);return e.on("scrollEnd",function(){this.indicator1&&(this.indicator1.indicatorStyle["transition-duration"]="350ms",this.indicator1.indicatorStyle.opacity="0")}),e.on("scrollMove",function(){this.indicator1&&(this.indicator1.indicatorStyle["transition-duration"]="0ms",this.indicator1.indicatorStyle.opacity="0.8")}),e}};n.iscrollAssist=i}(jQuery,window);
